{{ 'section-features.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div class="features-section color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
  <div class="page-width">
    <div class="features-section__header">
      {%- if section.settings.heading != blank -%}
        <h2 class="features-section__title h2">{{ section.settings.heading | escape }}</h2>
      {%- endif -%}
      {%- if section.settings.description != blank -%}
        <p class="features-section__description">{{ section.settings.description | escape }}</p>
      {%- endif -%}
    </div>

    <div class="features-section__grid">
      {%- for block in section.blocks -%}
        <div class="features-section__feature" {{ block.shopify_attributes }}>
          <div class="features-section__icon">
            {%- case block.settings.icon -%}
              {%- when 'shipping' -%}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1 3H17L20 6L17 9H1V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M17 9H20L23 12L20 15H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <circle cx="6" cy="18" r="2" stroke="currentColor" stroke-width="2"/>
                  <circle cx="18" cy="18" r="2" stroke="currentColor" stroke-width="2"/>
                </svg>
              {%- when 'returns' -%}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 12A9 9 0 0 1 12 3A9 9 0 0 1 21 12A9 9 0 0 1 12 21A9 9 0 0 1 3 12Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M8 12L12 8L16 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              {%- when 'support' -%}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              {%- when 'quality' -%}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            {%- endcase -%}
          </div>
          
          <div class="features-section__content">
            {%- if block.settings.title != blank -%}
              <h3 class="features-section__feature-title">{{ block.settings.title | escape }}</h3>
            {%- endif -%}
            {%- if block.settings.description != blank -%}
              <p class="features-section__feature-description">{{ block.settings.description | escape }}</p>
            {%- endif -%}
          </div>
        </div>
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Features Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "Why Choose SkinWise?",
      "label": "Heading"
    },
    {
      "type": "textarea",
      "id": "description",
      "default": "We're committed to providing you with the highest quality skincare products and exceptional customer service. Our team of experts carefully curates each product to ensure it meets our strict standards for effectiveness and safety.",
      "label": "Description"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "options": [
            {
              "value": "shipping",
              "label": "Shipping"
            },
            {
              "value": "returns",
              "label": "Returns"
            },
            {
              "value": "support",
              "label": "Support"
            },
            {
              "value": "quality",
              "label": "Quality"
            }
          ],
          "default": "shipping",
          "label": "Icon"
        },
        {
          "type": "text",
          "id": "title",
          "default": "Free Shipping",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "default": "Free shipping on all orders over $50. Fast and reliable delivery to your doorstep.",
          "label": "Description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Features Section",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "icon": "shipping",
            "title": "Free Shipping",
            "description": "Free shipping on all orders over $50. Fast and reliable delivery to your doorstep."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "returns",
            "title": "Free Returns",
            "description": "30-day hassle-free returns. If you're not satisfied, we'll make it right."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "support",
            "title": "Support Online",
            "description": "24/7 customer support. Our skincare experts are here to help you."
          }
        }
      ]
    }
  ]
}
{% endschema %}
